$pie-color: #fff !default;
$pie-color-active: #e74c3c !default;
$pie-color-hover: #c0392b !default;
$pie-size: 25em !default;
$pie-items: 6 !default;

$pie-offset: 90 !default;
// left center: 0
// top center: 90 - (360 / $pie-items) / 2
// clockwise: 90

@mixin pie-sector($pie-items: $pie-items, $pie-offset: $pie-offset) {
	$pie-angle: 360 / $pie-items;

	@for $i from 1 through $pie-items {
		&:nth-child(#{$i}) {
			transform: rotate(($i - 1deg) * $pie-angle + $pie-offset) skew(90deg - $pie-angle);
		}
	}

	> * {
		transform: skew(-90deg + $pie-angle) rotate(-90deg + $pie-angle / 2) scale(1);
	}

	// Hide wrong amount of items
	&:nth-child(n + #{$pie-items + 1}) {
		display: none;
	}
}

.pie {
	width: $pie-size;
	height: $pie-size;
	overflow: hidden;
	border-radius: 50%;
	list-style: none;
	margin: 0 auto;
	padding: 0;
	position: relative;
	background-color: $pie-color;
	box-shadow: 0px 0px 1rem rgba(0, 0, 0, 0.2);

	&::after {
		content: '';
		position: absolute;
		height: 10em;
		width: 10em;
		top: 50%;
		left: 50%;
		background: white;
		border-radius: 50%;
		transform: translate(-50%, -50%);
	}

	li {
		@include pie-sector();
		position: absolute;
		width: 50%;
		height: 50%;
		font-size: 1.5em;
		transform-origin: 100% 100%;
		overflow: hidden;
		left: 0;
		top: 0;
		transition: border .3s ease;

		&.active ~ li {
			a {
				background-color: inherit;
			}
		}

		&.active ~ li:hover,
		&:hover {
			a {
				background-color: $pie-color-hover;
			}
		}
	}

	a {
		display: block;
		height: 200%;
		width: 200%;
		position: absolute;
		border-radius: 50%;
		text-decoration: none;
		color: inherit;
		padding-top: 20%;
		text-align: center;
		transition: all 0.3s ease-out;
		background-color: $pie-color-active;
	}
}
